using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Final_version_Zoo
{
    class Program
    {
        private const string CommandShowLions = "1";
        private const string CommandShowGiraffes = "2";
        private const string CommandShowBears = "3";
        private const string CommandShowRabbits = "4";
        private const string CommandShowHippopotamuses = "5";
        private const string CommandExit = "6";

        static void Main(string[] args)
        {
            Console.WriteLine("Мы рады приветствовать вас в нашем зоопарке. У нас есть различные вольеры с животными.\nИ вы можете подойти к ним поближе, чтобы познакомиться с их обитателями.\n");
            Zoo zoo = new Zoo();
            bool isWork = true;

            zoo.Fill();

            while (isWork)
            {
                Console.WriteLine("Указатель зоопарка:");
                Console.WriteLine("Вольер со львами - " + CommandShowLions + "\nВольер с жирафами - " + CommandShowGiraffes + "\nВольер с медведями - " + CommandShowBears + "\nВольер с кроликами - " + CommandShowRabbits + "\nВольер с бегемотами - " + CommandShowHippopotamuses + "\nПокинуть зоопарк - " + CommandExit);
                Console.WriteLine("Введите цифру, к какому вольеру вы бы хотели подойти:");
                string message = Console.ReadLine();

                switch (message)
                {
                    case CommandShowLions:
                        zoo.ShowAnimals(Convert.ToInt32(message) - 1);
                        break;

                    case CommandShowGiraffes:
                        zoo.ShowAnimals(Convert.ToInt32(message) - 1);
                        break;

                    case CommandShowBears:
                        zoo.ShowAnimals(Convert.ToInt32(message) - 1);
                        break;

                    case CommandShowRabbits:
                        zoo.ShowAnimals(Convert.ToInt32(message) - 1);
                        break;

                    case CommandShowHippopotamuses:
                        zoo.ShowAnimals(Convert.ToInt32(message) - 1);
                        break;

                    case CommandExit:
                        isWork = false;
                        break;

                    default:
                        Console.WriteLine("Введена не существующая команда. Повторите ввод.");
                        break;
                }
            }
        }
    }

    class Zoo
    {
        private List<Aviary> _aviaries = new List<Aviary>();

        public void Fill()
        {
            _aviaries.Add(new Aviary(new Lion("Львы")));
            _aviaries.Add(new Aviary(new Giraffe("Жирафы")));
            _aviaries.Add(new Aviary(new Bear("Медведи")));
            _aviaries.Add(new Aviary(new Rabbit("Кролики")));
            _aviaries.Add(new Aviary(new Hippopotamus("Бегемоты")));
        }

        public void ShowAnimals(int message)
        {
            _aviaries[message].ShowInfo();
            _aviaries[message].Animal.Voice();
            Console.WriteLine();
            Console.WriteLine("Для продолжения нажмите любую клавишу.");
            Console.ReadKey();
            Console.Clear();
        }
    }

    class Aviary
    {
        private static readonly Random _random = new Random();
        private int _minCountAnimals = 1;
        private int _maxCountAnimals = 7;

        public Animal Animal { get; private set; }
        public int CountMale { get; private set; }
        public int CountFemale { get; private set; }
        public int NumberIndividuals { get; private set; }

        public Aviary(Animal animal)
        {
            Animal = animal;
            CountMale = _random.Next(_minCountAnimals, _maxCountAnimals);
            CountFemale = _random.Next(_minCountAnimals, _maxCountAnimals);
            NumberIndividuals = CountMale + CountFemale;
        }

        public void ShowInfo()
        {
            Console.WriteLine("В этом вольере обитают:");
            Console.WriteLine(Animal.Name + ", количество особей - " + NumberIndividuals + ", количество самцов - " + CountMale + ", количество самок - " + CountFemale);
        }
    }

    class Animal
    {
        public string Name { get; private set; }

        public Animal(string name)
        {
            Name = name;
        }

        public virtual void Voice() { }
    }

    class Lion : Animal
    {
        public Lion(string name) : base(name) { }

        public override void Voice()
        {
            Console.WriteLine("Грозно рычит... Аааааррррррр!");
        }
    }

    class Giraffe : Animal
    {
        public Giraffe(string name) : base(name) { }

        public override void Voice()
        {
            Console.WriteLine("Длинный протяжный Аааааааа... Что - то очень странное!");
        }
    }

    class Bear : Animal
    {
        public Bear(string name) : base(name) { }

        public override void Voice()
        {
            Console.WriteLine("Мммррррррраааа... Наверное последний звук, который вы услышите, если встретите его обладателя в диком лесу.");
        }
    }

    class Rabbit : Animal
    {
        public Rabbit(string name) : base(name) { }

        public override void Voice()
        {
            Console.WriteLine("Очень мило урчат... Такие заечкиии!");
        }
    }

    class Hippopotamus : Animal
    {
        public Hippopotamus(string name) : base(name) { }

        public override void Voice()
        {
            Console.WriteLine("Грозно похрюкивает... Иногда дико ревет, особенно когда летит в замес!");
        }
    }
}
